

### SpamDetector

This repository contains a project, SpamDetector. Inside the project, we can find:

- build, dist[folder]: Contains files generated by the build process, the generate these files can use package;
- src[folder]: Contains the python files, with the all the source code and data handling;
- test[folder]: Contains the test file, based on unittest;
- TestSet, TrainingSet[folder]: Folder with data for the spam detector, provided by the challenge;

- pypyoject, LICENSE, setup.py [files]: Additional files for the project building.



The first step is the installation of the package. It's valid to notice that is required the installation of the **requiriments.txt** previously. To install the package, follow these steps.

`$ python setup.py install`



This command should install the package **SpamDetector**. 



- **set_model**: we need to set a model for the spam detector to make a prediction
- **set_thresh**: we need to set a threshold for the spam classification
- **get_thresh**: gets the actual threshold for the decision making
- **prob_spam**: returns the probability of an SMS being a spam
- **is_spam**: return the classification, if an SMS is spam, based on the threshold

The basic usage can been seen as follow:



~~~python
```python

from SpamDetector.SpamDetector import SpamDetector

#Intance of SpamDetector
sd = SpamDetector()

#Set the model
sd.set_model('sms_model_v1.pkl')

#Set the threshold
sd.set_thresh(0.5)

#Dummy Spam
spam_text = "8007 25p 4 Alfie Moon's Children in Need song on ur mob. Tell ur m8s. Txt TONE CHARITY to 8007 for nokias or POLY CHARITY for polys :zed 08701417012 profit 2 charity'"

#Classify spam
sd.is_spam(spam_text)
#Return: True

#Prob spam
sd.prob_spam(spam_text)
#Return: 0.86

#Dummy SMS
sms_text = 'Webpage s not available!'

#Classify text
sd.is_spam(sms_text)
#Return: False

#Prob spam
sd.prob_spam(spam_text)
#Return: 0.03

```
~~~



The threshold is used as decision control. A high threshold value will lead to more SMS classified as SPAM, and a low threshold will reduce the detection. 



The threshold is used as decision control. A high threshold value will lead to more SMS classified as SPAM, and a low threshold will reduce the detection. Was added unitary tests on the test folder. The test was coded with unit tests. A total of six tests were performed, spam and SMS classification, probabilities acquisition, and threshold handling.  To run form the terminal go to the test fold and run:



`$ python test_prediction`





